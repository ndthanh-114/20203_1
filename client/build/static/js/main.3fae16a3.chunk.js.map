{"version":3,"sources":["components/Auth/styles.js","components/Auth/Input.js","constants/actionTypes.js","api/index.js","actions/auth.js","components/Auth/Auth.js","components/Profile/styles.js","components/Profile/Profile.js","App.js","reducers/auth.js","reducers/index.js","index.js"],"names":["makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","padding","root","margin","avatar","backgroundColor","palette","secondary","main","form","width","submit","googleButton","marginBottom","Input","name","handleChange","label","autoFocus","type","handleShowPassword","Grid","item","xs","sm","TextField","onChange","variant","required","fullWidth","InputProps","endAdornment","InputAdornment","position","IconButton","onClick","AUTH","LOGOUT","API","axios","create","baseURL","signin","formData","history","post","catch","error","alert","response","data","message","signup","dispatch","a","api","result","password","push","Auth","useState","isSignup","setIsSignup","classes","useStyles","email","confirmPassword","setFormData","showPassword","setShowPassword","isLoading","setIsLoading","useHistory","useDispatch","handleSubmit","e","preventDefault","console","log","target","value","Container","component","maxWidth","Paper","className","elevation","Avatar","Typography","onSubmit","container","Button","color","justifyContent","prevIsSignup","Profile","JSON","parse","localStorage","getItem","user","gutterBottom","to","App","path","exact","auth","state","authData","action","setItem","stringify","clear","combineReducers","store","createStore","reducers","compose","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3fae16a3.chunk.js","sourcesContent":["import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(2),\r\n  },\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  googleButton: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n}));","import React from 'react';\r\nimport { TextField, Grid, InputAdornment, IconButton } from '@material-ui/core';\r\n\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\n\r\nconst Input = ({ name, handleChange, label, autoFocus, type, handleShowPassword }) => (\r\n  <Grid item xs={12} sm={12}>\r\n    <TextField\r\n      name={name}\r\n      onChange={handleChange}\r\n      variant=\"outlined\"\r\n      required\r\n      fullWidth\r\n      label={label}\r\n      autoFocus={autoFocus}\r\n      type={type}\r\n      InputProps={name === 'password' ? {\r\n        endAdornment: (\r\n          <InputAdornment position=\"end\">\r\n            <IconButton onClick={handleShowPassword}>\r\n              {type === 'password' ? <Visibility /> : <VisibilityOff />}\r\n            </IconButton>\r\n          </InputAdornment>\r\n        ),\r\n      } : null}\r\n    />\r\n  </Grid>\r\n);\r\n\r\nexport default Input;","export const AUTH = 'AUTH'\r\nexport const LOGOUT  = 'LOGOUT'\r\n","import axios from 'axios'\r\n\r\nconst API = axios.create({baseURL:'https://create-one-app.herokuapp.com/' })\r\n// const API = axios.create({baseURL:'http://localhost:3000/' })\r\n\r\nexport const signin = (formData, history) => API.post('/signin', formData).catch((error)=> alert(error.response.data.message))\r\nexport const signup = (formData, history) => API.post('/signup', formData).catch((error)=> alert(error.response.data.message))","import {AUTH} from '../constants/actionTypes'\r\nimport * as api from '../api/index'\r\n\r\nexport const signin = (formData, history) => async (dispatch) => {\r\n    try {\r\n        \r\n        const {data} = await api.signin(formData, history)\r\n        \r\n        data.result.password = formData.password\r\n        dispatch({type: AUTH, data})\r\n        history.push('/')\r\n    } catch (error) {\r\n        \r\n        \r\n        history.push('/auth')\r\n    }\r\n}\r\n\r\nexport const signup = (formData, history) => async (dispatch) => {\r\n    try {\r\n        const {data} = await api.signup(formData, history)\r\n        \r\n        data.result.password = formData.password\r\n        dispatch({type: AUTH, data})\r\n\r\n        history.push('/')\r\n    } catch (error) {\r\n\r\n        \r\n        history.push('/auth')\r\n    }\r\n}","import React, { useState } from 'react'\r\nimport { Avatar, Button, Paper, Grid, Typography, Container } from '@material-ui/core'\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\r\nimport useStyles from './styles'\r\nimport Input from './Input'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { signin, signup } from '../../actions/auth'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nconst Auth = () => {\r\n\r\n  const [isSignup, setIsSignup] = useState(false);\r\n  const classes = useStyles();\r\n  const [formData, setFormData] = useState({\r\n    email: '', password: '', confirmPassword: ''\r\n  })\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false)\r\n\r\n  const history = useHistory()\r\n  const dispatch = useDispatch()\r\n\r\n  const handleShowPassword = () => setShowPassword(!showPassword);\r\n\r\n\r\n\r\n  const switchMode = () => {\r\n    setIsSignup((prevIsSignup) => !prevIsSignup);\r\n    setShowPassword(false);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    console.log(formData)\r\n    setIsLoading(true)\r\n    try {\r\n      if (isSignup) {\r\n        await dispatch(signup(formData, history));\r\n      } else {\r\n        await dispatch(signin(formData, history));\r\n      }\r\n    } catch (error) {\r\n      \r\n      \r\n    } finally{\r\n      setIsLoading(false)\r\n    }\r\n    \r\n  };\r\n\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value })\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <Paper className={classes.paper} elevation={3}>\r\n        {isLoading\r\n          ? <p>Loading....</p>\r\n          :\r\n          <>\r\n            <Avatar className={classes.avatar}>\r\n              <LockOutlinedIcon />\r\n            </Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\">{isSignup ? 'Đăng ký' : 'Đăng nhập'}</Typography>\r\n            <form className={classes.form} onSubmit={handleSubmit}>\r\n              <Grid container spacing={2}>\r\n                <Input name=\"email\" label=\"Email Address\" handleChange={handleChange} type=\"email\" />\r\n                <Input name=\"password\" label=\"Password\" handleChange={handleChange} type={showPassword ? 'text' : 'password'} handleShowPassword={handleShowPassword} />\r\n                {isSignup && <Input name=\"confirmPassword\" label=\"Confirm Password\" handleChange={handleChange} type=\"password\" />}\r\n              </Grid>\r\n\r\n              <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit}>\r\n                {isSignup ? 'Đăng ký' : 'Đăng nhập'}\r\n              </Button>\r\n\r\n              <Grid container justifyContent=\"flex-end\">\r\n                <Grid item>\r\n                  <Button onClick={switchMode}>\r\n                    {isSignup ? 'Đã có tài khoản? Đăng nhập' : \"Chưa có tài khoản? Đăng ký\"}\r\n                  </Button>\r\n                </Grid>\r\n              </Grid>\r\n            </form>\r\n          </>\r\n        }\r\n      </Paper>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Auth\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(2),\r\n  },\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n \r\n}));","import React, { useState } from 'react'\r\nimport { Container, Typography, Paper, Button } from '@material-ui/core'\r\nimport useStyles from './styles'\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch } from 'react-redux'\r\nimport { LOGOUT } from '../../constants/actionTypes'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst Profile = () => {\r\n    const [user] = useState(JSON.parse(localStorage.getItem('profile')) ? JSON.parse(localStorage.getItem('profile')) : null)\r\n    const classes = useStyles()\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n\r\n  \r\n\r\n    const handleLogout = () => {\r\n        dispatch({ type: LOGOUT })\r\n        history.push('/auth')\r\n    }\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n            <Paper className={classes.paper} elevation={3}>\r\n                {\r\n                    user ?\r\n                        <>\r\n                            <Typography variant=\"h5\" gutterBottom>{`Email: ${user?.result?.email}`}</Typography>\r\n                            <Typography variant=\"h5\" gutterBottom>{`Mật khẩu: ${user?.result?.password}`}</Typography>\r\n                            <Button onClick={handleLogout} color=\"secondary\" variant=\"contained\">\r\n                                Đăng xuất\r\n                            </Button>\r\n                        </>\r\n\r\n                        : <Button><Link to=\"/auth\">Vui lòng xác thực</Link></Button>\r\n                }\r\n            </Paper>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Profile","import React from 'react'\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\r\nimport { Container } from '@material-ui/core'\r\nimport Auth from './components/Auth/Auth'\r\nimport Profile from './components/Profile/Profile'\r\n\r\nconst App = () => {\r\n    return (\r\n        <BrowserRouter>\r\n            <Container>\r\n                <Switch>\r\n                    <Route path='/' exact component={Profile} />\r\n                    <Route path='/auth' exact component={Auth} />\r\n                </Switch>\r\n            </Container>\r\n        </BrowserRouter>\r\n    )\r\n}\r\nexport default App;\r\n","import {AUTH, LOGOUT} from '../constants/actionTypes'\r\n\r\nconst auth =  (state = {authData: null}, action) => {\r\n    switch (action.type) {\r\n        case AUTH:\r\n            localStorage.setItem('profile', JSON.stringify({...action?.data}))\r\n\r\n            return {...state, authData: null};\r\n        case LOGOUT: \r\n            localStorage.clear();\r\n            \r\n            return {...state, authData: null};\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\nexport default auth","import { combineReducers } from \"redux\";\r\nimport auth from './auth'\r\nexport default combineReducers({\r\n    auth\r\n})","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport { createStore, applyMiddleware, compose } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport App from './App'\r\n\r\nimport reducers from './reducers'\r\n\r\nconst store = createStore(reducers, compose(applyMiddleware(thunk)))\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById('root')\r\n)"],"sourceRoot":""}